version: "3.1"

stories:

# --- Greet + Goodbye ---
- story: Greet and Goodbye
  steps:
  - intent: greet
  - action: utter_greet
  - intent: say_goodbye
  - action: utter_goodbye

# --- Hỏi điểm chuẩn (đủ thông tin) ---
- story: Ask benchmark full info
  steps:
  - intent: ask_benchmark
    entities:
      - school: "đại học thương mại"
      - year: "2023"
      - major: "công nghệ thông tin"
  - action: benchmark_form
  - active_loop: benchmark_form
  - active_loop: null
  - action: utter_benchmark

# --- Hỏi điểm chuẩn (thiếu thông tin -> form hỏi lại) ---
- story: Ask benchmark missing year
  steps:
  - intent: ask_benchmark
    entities:
      - school: "đại học thương mại"
      - major: "công nghệ thông tin"
  - action: benchmark_form
  - active_loop: benchmark_form
  - slot_was_set:
      - school: "đại học thương mại"
      - major: "công nghệ thông tin"
  - action: utter_ask_year
  - intent: inform
    entities:
      - year: "2023"
  - action: benchmark_form
  - active_loop: benchmark_form
  - active_loop: null
  - action: utter_benchmark

# --- Hỏi ngành ---
- story: Ask major
  steps:
  - intent: ask_major
    entities:
      - school: "đại học ngoại thương"
  - action: major_form
  - active_loop: major_form
  - active_loop: null
  - action: utter_major

# --- Hỏi cơ hội đỗ ---
- story: Ask admission chance
  steps:
  - intent: ask_admission_chance
    entities:
      - school: "bách khoa hà nội"
      - score: "25"
      - subject_combination: "A00"
      - major: "công nghệ thông tin"
      - year: "2023"
  - action: admission_chance_form
  - active_loop: admission_chance_form
  - active_loop: null
  - action: utter_admission_chance

# --- Hỏi điểm chuẩn dự đoán ---
- story: Ask predict benchmark
  steps:
  - intent: ask_predict_benchmark
    entities:
      - school: "đại học fpt"
      - major: "công nghệ thông tin"
      - subject_combination: "A00"
  - action: predict_benchmark_form
  - active_loop: predict_benchmark_form
  - active_loop: null
  - action: utter_predict_benchmark

# --- Hỏi kĩ hơn về cách dự đoán ---
- story: Ask detail guess
  steps:
  - intent: ask_detail_guess
  - action: utter_detail_guess

# --- Chitchat xen ngang khi đang điền form ---
- story: Chitchat interruption during form
  steps:
  - intent: ask_benchmark
    entities:
      - school: "đại học thương mại"
      - major: "kinh tế"
  - action: benchmark_form
  - active_loop: benchmark_form
  - action: utter_ask_year
  - intent: chitchat
  - action: utter_chitchat
  - action: benchmark_form
  - active_loop: benchmark_form
  - intent: inform
    entities:
      - year: "2023"
  - action: benchmark_form
  - active_loop: benchmark_form
  - active_loop: null
  - action: utter_benchmark
